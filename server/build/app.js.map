{"version":3,"sources":["../src/app.js"],"names":["app","use","json","initialize","urlencoded","extended","all","req","res","next","setHeader","headers","origin","method","send","listen","console","log"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;AACAF,IAAIC,GAAJ,CAAQ,sBAAOE,UAAP,EAAR;AACAH,IAAIC,GAAJ,CAAQ,qBAAWG,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;AACAL,IAAIM,GAAJ,CAAQ,IAAR,EAAc,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAChCD,MAAIE,SAAJ,CAAc,6BAAd,EAA6CH,IAAII,OAAJ,IAAeJ,IAAII,OAAJ,CAAYC,MAA3B,GAAoCL,IAAII,OAAJ,CAAYC,MAAhD,GAAyD,GAAtG;AACAJ,MAAIE,SAAJ,CAAc,8BAAd,EAA8C,wCAA9C;AACAF,MAAIE,SAAJ,CAAc,8BAAd,EAA8C,+FAA9C;AACAF,MAAIE,SAAJ,CAAc,kCAAd,EAAkD,IAAlD;AACA,MAAIH,IAAIM,MAAJ,KAAe,SAAnB,EAA8B;AAC5BL,QAAIM,IAAJ,CAAS,GAAT;AACD,GAFD,MAEO;AACLL;AACD;AACF,CAVD;AAWA,sBAAUT,GAAV;;AAEAA,IAAIe,MAAJ,eAAiB,YAAM;AACrBC,UAAQC,GAAR;AACD,CAFD","file":"app.js","sourcesContent":["import express from 'express'\nimport bodyParser from 'body-parser'\nimport appRouter from './router'\nimport { PORT } from './config'\nimport auth from './middleware/auth'\n\nconst app = express()\n\napp.use(bodyParser.json())\napp.use(auth().initialize())\napp.use(bodyParser.urlencoded({ extended: false }))\napp.all('/*', (req, res, next) => {\n  res.setHeader('Access-Control-Allow-Origin', req.headers && req.headers.origin ? req.headers.origin : '*')\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE')\n  res.setHeader('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept, Connection, User-Agent, Cookie, Authorization')\n  res.setHeader('Access-Control-Allow-Credentials', true)\n  if (req.method === 'OPTIONS') {\n    res.send(200)\n  } else {\n    next()\n  }\n})\nappRouter(app)\n\napp.listen(PORT, () => {\n  console.log(`服务器已启动 端口号 [${PORT}]`)\n})\n"]}