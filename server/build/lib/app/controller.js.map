{"version":3,"sources":["../../../src/lib/app/controller.js"],"names":["findAll","req","res","next","query","result","json","recordById","params","id","console","log"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;AACA;;;;AAEA,IAAMA;AAAA,sFAAU,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAES,kBAAWH,OAAX,CAAmB,4BAAWC,IAAIG,KAAf,2BAAnB,CAFT;;AAAA;AAENC,kBAFM;;AAGZH,gBAAII,IAAJ,CAAS,0BAAaD,MAAb,CAAT;AAHY;AAAA;;AAAA;AAAA;AAAA;;AAKZF,iBAAK,gCAAmB,MAAnB,EAA2B,MAA3B,CAAL;;AALY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAV;;AAAA;AAAA;AAAA;AAAA,GAAN;;AAUA,IAAMI;AAAA,uFAAa,kBAAON,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEM,kBAAWI,UAAX,CAAsBN,IAAIO,MAAJ,CAAWC,EAAjC,CAFN;;AAAA;AAETJ,kBAFS;;AAGfH,gBAAII,IAAJ,CAAS,0BAAa,EAAb,CAAT;AAHe;AAAA;;AAAA;AAAA;AAAA;;AAKfI,oBAAQC,GAAR;AACAR,iBAAK,gCAAmB,MAAnB,EAA2B,MAA3B,CAAL;;AANe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAWe;AACbH,kBADa;AAEbO;AAFa,C","file":"controller.js","sourcesContent":["import appManager from './manager'\nimport { getFromReq } from '../util/pagination'\nimport { formatResult, handlerCustomError } from '../util/format'\nimport { APP_LIMIT_DEFAULT } from '../util/const'\n\nconst findAll = async (req, res, next) => {\n  try {\n    const result = await appManager.findAll(getFromReq(req.query, APP_LIMIT_DEFAULT))\n    res.json(formatResult(result))\n  } catch (e) {\n    next(handlerCustomError(107001, '查询失败'))\n  }\n}\n\n\nconst recordById = async (req, res, next) => {\n  try {\n    const result = await appManager.recordById(req.params.id)\n    res.json(formatResult({}))\n  } catch (e) {\n    console.log(e)\n    next(handlerCustomError(107002, '记录失败'))\n  }\n}\n\n\nexport default {\n  findAll,\n  recordById\n}\n"]}