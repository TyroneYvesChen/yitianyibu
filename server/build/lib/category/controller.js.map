{"version":3,"sources":["../../../src/lib/category/controller.js"],"names":["findAll","req","res","next","query","result","json"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;AACA;;;;AAEA,IAAMA;AAAA,sFAAU,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAES,kBAAgBH,OAAhB,CAAwB,4BAAWC,IAAIG,KAAf,gCAAxB,CAFT;;AAAA;AAENC,kBAFM;;AAGZH,gBAAII,IAAJ,CAAS,0BAAaD,MAAb,CAAT;AAHY;AAAA;;AAAA;AAAA;AAAA;;AAKZF,iBAAK,gCAAmB,MAAnB,EAA2B,MAA3B,CAAL;;AALY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAV;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBASe;AACbH;AADa,C","file":"controller.js","sourcesContent":["import categoryManager from './manager'\nimport { getFromReq } from '../util/pagination'\nimport { formatResult, handlerCustomError } from '../util/format'\nimport { CATEGORY_LIMIT_DEFAULT } from '../util/const'\n\nconst findAll = async (req, res, next) => {\n  try {\n    const result = await categoryManager.findAll(getFromReq(req.query, CATEGORY_LIMIT_DEFAULT))\n    res.json(formatResult(result))\n  } catch (e) {\n    next(handlerCustomError(107003, '查询失败'))\n  }\n}\n\nexport default {\n  findAll\n}\n"]}