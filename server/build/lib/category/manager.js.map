{"version":3,"sources":["../../../src/lib/category/manager.js"],"names":["findAll","queryOptions","options","count","removed","total","find","limit","skip","offset","sort","weight","createdAt","list","meta","length"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AAEA,IAAMA;AAAA,sFAAU;AAAA,QAAOC,YAAP,uEAAsB,EAAtB;AAAA,QAA0BC,OAA1B,uEAAoC,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACM,gBAAMC,KAAN,CAAY,EAAEC,SAAS,KAAX,EAAZ,CADN;;AAAA;AACRC,iBADQ;;AAEdH,sBAAU,sBAAcA,OAAd,EAAuB,EAAEE,SAAS,KAAX,EAAvB,CAAV;AAFc;AAAA,mBAGK,gBAAME,IAAN,CAAWJ,OAAX,EAAoBK,KAApB,CAA0BN,aAAaM,KAAvC,EAA8CC,IAA9C,CAAmDP,aAAaQ,MAAhE,EAAwEC,IAAxE,CAA6E,EAAEC,QAAQ,CAAC,CAAX,EAAcC,WAAW,CAAC,CAA1B,EAA7E,CAHL;;AAAA;AAGRC,gBAHQ;AAAA,6CAIP;AACLC,oBAAM,yBAAQT,KAAR,EAAeQ,KAAKE,MAApB,EAA4Bd,YAA5B,CADD;AAELY;AAFK,aAJO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAV;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAUe;AACbb;AADa,C","file":"manager.js","sourcesContent":["import Model from './model'\nimport { getMeta } from '../util/pagination'\n\nconst findAll = async (queryOptions = {}, options = {}) => {\n  const total = await Model.count({ removed: false })\n  options = Object.assign(options, { removed: false })\n  const list = await Model.find(options).limit(queryOptions.limit).skip(queryOptions.offset).sort({ weight: -1, createdAt: -1 })\n  return {\n    meta: getMeta(total, list.length, queryOptions),\n    list\n  }\n}\n\nexport default {\n  findAll\n}\n"]}